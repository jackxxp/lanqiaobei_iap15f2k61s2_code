C51 COMPILER V9.60.7.0   DRV_LED                                                           01/30/2026 00:23:36 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE DRV_LED
OBJECT MODULE PLACED IN .\Objects\drv_led.obj
COMPILER INVOKED BY: C:\Program Files (x86)\keil\C51\BIN\C51.EXE drv_led.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND P
                    -RINT(.\Listings\drv_led.lst) TABS(2) OBJECT(.\Objects\drv_led.obj)

line level    source

   1          //drv_led.c
   2          #include "drv_led.h"
   3          
   4          
   5          uint8 led_ram[8] = {0, 0, 0, 0, 0, 0, 0, 0};
   6          
   7          //led运行函数
   8          void drv_led_run()
   9          {
  10   1        static uint8 led_tick =0;
  11   1        static uint8 led_last =0x00;
  12   1        static uint8 led_temp = 0x00;
  13   1        
  14   1        if(led_ram[led_tick])
  15   1        {
  16   2          led_temp = led_temp | (0x01<<led_tick++);
  17   2        }else
  18   1        {
  19   2          led_temp = led_temp & ~(0x01<<led_tick++);
  20   2        }
  21   1        
  22   1        if(led_tick >= 8){led_tick = 0;}
  23   1        
  24   1        if(led_last != led_temp)
  25   1        {
  26   2          y4;
  27   2          P0 = ~led_temp;
  28   2          y0;
  29   2          led_last = led_temp;
  30   2        } 
  31   1      }
  32          
  33          //led控制函数
  34          void drv_led_set(uint8 position, bit value){led_ram[position] = value;}
  35          
  36          void drv_led_set0()
  37          {
  38   1        led_ram[0]=0;led_ram[1]=0;led_ram[2]=0;led_ram[3]=0;led_ram[4]=0;led_ram[5]=0;led_ram[6]=0;led_ram[7]=0;
  39   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    110    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     11    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
